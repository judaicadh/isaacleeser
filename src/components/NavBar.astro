---
const links = [
    { href: "/", label: "Search" },

    { href: "/collections", label: "Collections" },
    { href: "/about", label: "About" },
    { href: "/contact", label: "Contact" },
];
---

<nav class="  border-b border-border">
    <div class="mx-auto max-w-screen-xl px-4 py-3 flex items-center justify-between">
        <!-- Left: stacked brand -->
        <a href="/" class="flex flex-col items-start">
            <span class="text-md font-sans tracking-wide text-primary">
                Gershwindâ€“Bennett
            </span>
            <span class="text-xl md:text-2xl font-serif text-accent-foreground leading-tight">
                Isaac Leeser Digital Repository
            </span>
            <span class="text-md font-sans font-light italic text-primary mt-0.5">
                Jesselson-Kaplan Atlantic Genizah Project
            </span>
        </a>

        <!-- Right: nav (desktop) -->
        <ul class="hidden md:flex items-center gap-8 text-sm font-medium">
            {links.map(link => (
                    <li>
                        <a href={link.href} class="text-foreground/90 hover:text-accent transition-colors">
                            {link.label}
                        </a>
                    </li>
            ))}
        </ul>

        <!-- Mobile menu trigger -->
        <button
                class="md:hidden inline-flex items-center justify-center rounded-md px-3 py-2 text-foreground/80 hover:bg-card hover:shadow-sm transition"
                aria-label="Open menu"
                aria-expanded="false"
                data-mobile-menu-trigger
        >
            <svg viewBox="0 0 24 24" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" d="M4 7h16M4 12h16M4 17h16" />
            </svg>
        </button>
    </div>

    <!-- Mobile nav (hidden by default) -->
    <div class="md:hidden border-t border-border/70 bg-background/95" data-mobile-menu hidden>
        <ul class="px-4 py-3 space-y-2 text-sm">
            {links.map(link => (
                    <li>
                        <a
                                href={link.href}
                                class="block px-2 py-2 rounded-md text-foreground/90 hover:bg-card hover:text-accent transition"
                        >
                            {link.label}
                        </a>
                    </li>
            ))}
        </ul>
    </div>
</nav>

<script is:inline>
    const btn = document.querySelector('[data-mobile-menu-trigger]');
    const menu = document.querySelector('[data-mobile-menu]');
    btn?.addEventListener('click', () => {
        const isHidden = menu.hasAttribute('hidden');
        if (isHidden) menu.removeAttribute('hidden');
        else menu.setAttribute('hidden', '');
        btn.setAttribute('aria-expanded', String(isHidden));
    });
</script>